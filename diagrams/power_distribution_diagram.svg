<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">ESP32 Fish Tank - Complete Power Distribution System</text>
  
  <!-- 5V Rail Section -->
  <rect x="50" y="60" width="1100" height="250" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="70" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">5V Power Rail with Protection and Filtering</text>
  
  <!-- Customer 5V Input -->
  <rect x="80" y="110" width="80" height="40" rx="4" fill="#dc2626" stroke="#991b1b" stroke-width="2"/>
  <text x="120" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fff">Customer</text>
  <text x="120" y="143" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fff">ERD 5V</text>

  <!-- NTC1 Inrush Limiter -->
  <rect x="170" y="120" width="20" height="20" rx="6" fill="#fbbf24" stroke="#b45309" stroke-width="2"/>
  <text x="180" y="133" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#b45309">NTC1</text>
  <text x="180" y="143" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#b45309">5D-11</text>
  
  <!-- J1 Terminal -->
  <rect x="190" y="115" width="40" height="30" rx="3" fill="#374151" stroke="#1f2937" stroke-width="2"/>
  <text x="210" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff">J1</text>
  
  <!-- F1 Fuse -->
  <rect x="260" y="115" width="40" height="30" rx="3" fill="#7c2d12" stroke="#451a03" stroke-width="2"/>
  <text x="280" y="132" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">F1</text>
  <text x="280" y="142" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#fbbf24">2.5A</text>
  
  <!-- FB1 Ferrite Bead -->
  <circle cx="330" cy="130" r="18" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2"/>
  <text x="330" y="127" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">FB1</text>
  <text x="330" y="137" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#c4b5fd">120Ω</text>
  
  <!-- D1 Diode -->
  <polygon points="380,115 415,130 380,145 365,130" fill="#059669" stroke="#047857" stroke-width="2"/>
  <!-- Cathode dash for D1 -->
  <line x1="415" y1="124" x2="415" y2="136" stroke="#047857" stroke-width="3"/>
  <text x="390" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">D1</text>
  <text x="390" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#047857">1N5819</text>
  
  <!-- D2 TVS -->
  <polygon points="445,115 480,130 445,145 430,130" fill="#7c3aed" stroke="#5b21b6" stroke-width="2"/>
  <!-- Cathode dash for D2 -->
  <line x1="480" y1="124" x2="480" y2="136" stroke="#5b21b6" stroke-width="3"/>
  <text x="457" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">D2</text>
  <text x="457" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#5b21b6">1N4744A</text>
  
  <!-- C1 Filter Capacitor -->
  <rect x="510" y="105" width="20" height="40" rx="2" fill="#2563eb" stroke="#1d4ed8" stroke-width="2"/>
  <text x="520" y="127" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">C1</text>
  <text x="520" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1d4ed8">470µF</text>
  
  <!-- C5 Filter Capacitor -->
  <rect x="560" y="105" width="20" height="40" rx="2" fill="#2563eb" stroke="#1d4ed8" stroke-width="2"/>
  <text x="570" y="127" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">C5</text>
  <text x="570" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1d4ed8">470µF</text>
  
  <!-- ESP32 VIN -->
  <rect x="610" y="115" width="70" height="30" rx="4" fill="#1e40af" stroke="#1e3a8a" stroke-width="2"/>
  <text x="645" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff">ESP32 VIN</text>
  
  <!-- ESP32 Internal Regulator -->
  <rect x="710" y="115" width="70" height="30" rx="4" fill="#6366f1" stroke="#4f46e5" stroke-width="2"/>
  <text x="745" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">ESP32</text>
  <text x="745" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#c7d2fe">3.3V Reg</text>
  
  <!-- 3.3V Output -->
  <rect x="810" y="115" width="50" height="30" rx="4" fill="#10b981" stroke="#059669" stroke-width="2"/>
  <text x="835" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff">3.3V</text>
  
  <!-- 5V Rail Connections -->
  <line x1="160" y1="130" x2="170" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="190" y1="130" x2="190" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="170" y1="130" x2="190" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="230" y1="130" x2="260" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="300" y1="130" x2="312" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="348" y1="130" x2="365" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="415" y1="130" x2="430" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="480" y1="130" x2="510" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="530" y1="130" x2="560" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="580" y1="130" x2="610" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="680" y1="130" x2="710" y2="130" stroke="#dc2626" stroke-width="3"/>
  <line x1="780" y1="130" x2="810" y2="130" stroke="#10b981" stroke-width="3"/>
  
  <!-- Ground Connections -->
  <line x1="120" y1="180" x2="835" y2="180" stroke="#374151" stroke-width="3"/>
  <line x1="520" y1="145" x2="520" y2="180" stroke="#374151" stroke-width="2"/>
  <line x1="570" y1="145" x2="570" y2="180" stroke="#374151" stroke-width="2"/>
  <line x1="645" y1="145" x2="645" y2="180" stroke="#374151" stroke-width="2"/>
  <line x1="745" y1="145" x2="745" y2="180" stroke="#374151" stroke-width="2"/>
  <line x1="835" y1="145" x2="835" y2="180" stroke="#374151" stroke-width="2"/>
  
  <!-- Protection Resistors Section -->
  <rect x="70" y="200" width="500" height="80" rx="6" fill="#f3f4f6" stroke="#6b7280" stroke-width="2"/>
  <text x="90" y="220" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">GPIO Protection Resistors</text>
  
  <!-- GPIO Protection Resistors -->
  <rect x="90" y="235" width="25" height="12" rx="2" fill="#f59e0b" stroke="#d97706" stroke-width="1"/>
  <text x="102" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#fff">R9</text>
  <text x="102" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#92400e">100Ω DS18B20</text>
  
  <rect x="130" y="235" width="25" height="12" rx="2" fill="#f59e0b" stroke="#d97706" stroke-width="1"/>
  <text x="142" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#fff">R10</text>
  <text x="142" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#92400e">100Ω Buzzer</text>
  
  <rect x="170" y="235" width="25" height="12" rx="2" fill="#8b5cf6" stroke="#7c3aed" stroke-width="1"/>
  <text x="182" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#fff">R11</text>
  <text x="182" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#5b21b6">82Ω I2C SDA</text>
  
  <rect x="210" y="235" width="25" height="12" rx="2" fill="#8b5cf6" stroke="#7c3aed" stroke-width="1"/>
  <text x="222" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#fff">R12</text>
  <text x="222" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#5b21b6">82Ω I2C SCL</text>
  
  <rect x="260" y="235" width="25" height="12" rx="2" fill="#ef4444" stroke="#dc2626" stroke-width="1"/>
  <text x="272" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#fff">R4-R8</text>
  <text x="272" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#b91c1c">330Ω Relays</text>
  
  <rect x="300" y="235" width="25" height="12" rx="2" fill="#10b981" stroke="#059669" stroke-width="1"/>
  <text x="312" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" font-weight="bold" fill="#fff">R1-R3</text>
  <text x="312" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="6" fill="#047857">4.7kΩ Pulls</text>
  
  <!-- 12V Rail Section -->
  <rect x="50" y="340" width="1100" height="200" rx="8" fill="#dcfdf7" stroke="#059669" stroke-width="2"/>
  <text x="70" y="365" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#047857">12V Power Rail (Relay Power)</text>
  
  <!-- Customer 12V Input -->
  <rect x="80" y="390" width="80" height="40" rx="4" fill="#dc2626" stroke="#991b1b" stroke-width="2"/>
  <text x="120" y="407" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fff">Customer</text>
  <text x="120" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fff">SMPS 12V</text>

  <!-- NTC2 Inrush Limiter (12V) -->
  <rect x="170" y="400" width="20" height="20" rx="6" fill="#fbbf24" stroke="#b45309" stroke-width="2"/>
  <text x="180" y="413" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#b45309">NTC2</text>
  <text x="180" y="423" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#b45309">5D-11</text>
  
  <!-- J2 Terminal -->
  <rect x="190" y="395" width="40" height="30" rx="3" fill="#374151" stroke="#1f2937" stroke-width="2"/>
  <text x="210" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff">J2</text>
  
  <!-- F2 Fuse -->
  <rect x="260" y="395" width="40" height="30" rx="3" fill="#7c2d12" stroke="#451a03" stroke-width="2"/>
  <text x="280" y="412" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">F2</text>
  <text x="280" y="422" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#fbbf24">3A</text>
  
  <!-- FB2 Ferrite Bead -->
  <circle cx="330" cy="410" r="18" fill="#8b5cf6" stroke="#7c3aed" stroke-width="2"/>
  <text x="330" y="407" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">FB2</text>
  <text x="330" y="417" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#c4b5fd">120Ω</text>
  
  <!-- D3 TVS -->
  <polygon points="380,395 415,410 380,425 365,410" fill="#7c3aed" stroke="#5b21b6" stroke-width="2"/>
  <!-- Cathode dash for D3 -->
  <line x1="415" y1="404" x2="415" y2="416" stroke="#5b21b6" stroke-width="3"/>
  <text x="390" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">D3</text>
  <text x="390" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#5b21b6">1N4744A</text>
  
  <!-- C3 Filter Capacitor -->
  <rect x="450" y="385" width="20" height="40" rx="2" fill="#2563eb" stroke="#1d4ed8" stroke-width="2"/>
  <text x="460" y="407" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#fff">C3</text>
  <text x="460" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1d4ed8">470µF</text>
  
  <!-- J5 Relay Terminal -->
  <rect x="500" y="395" width="70" height="30" rx="4" fill="#059669" stroke="#047857" stroke-width="2"/>
  <text x="535" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff">J5 Relays</text>
  
  <!-- 12V Rail Connections -->
  <line x1="160" y1="410" x2="170" y2="410" stroke="#059669" stroke-width="3"/>
  <line x1="170" y1="410" x2="190" y2="410" stroke="#059669" stroke-width="3"/>
  <line x1="230" y1="410" x2="260" y2="410" stroke="#059669" stroke-width="3"/>
  <line x1="300" y1="410" x2="312" y2="410" stroke="#059669" stroke-width="3"/>
  <line x1="348" y1="410" x2="365" y2="410" stroke="#059669" stroke-width="3"/>
  <line x1="415" y1="410" x2="450" y2="410" stroke="#059669" stroke-width="3"/>
  <line x1="470" y1="410" x2="500" y2="410" stroke="#059669" stroke-width="3"/>
  
  <!-- 12V Ground Connections -->
  <line x1="120" y1="460" x2="535" y2="460" stroke="#374151" stroke-width="3"/>
  <line x1="460" y1="425" x2="460" y2="460" stroke="#374151" stroke-width="2"/>
  <line x1="535" y1="425" x2="535" y2="460" stroke="#374151" stroke-width="2"/>
  
  <!-- 3.3V Distribution Section -->
  <rect x="50" y="580" width="1100" height="100" rx="8" fill="#fef3e2" stroke="#f59e0b" stroke-width="2"/>
  <text x="70" y="605" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">3.3V Distribution (ESP32 Internal Regulator)</text>
  
  <!-- 3.3V Load Components -->
  <rect x="90" y="625" width="60" height="20" rx="3" fill="#3b82f6" stroke="#1d4ed8" stroke-width="1"/>
  <text x="120" y="638" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">DS3231 RTC</text>
  <text x="120" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1d4ed8">~20mA</text>
  
  <rect x="170" y="625" width="60" height="20" rx="3" fill="#3b82f6" stroke="#1d4ed8" stroke-width="1"/>
  <text x="200" y="638" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">SSD1306 OLED</text>
  <text x="200" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1d4ed8">~30mA</text>
  
  <rect x="250" y="625" width="60" height="20" rx="3" fill="#3b82f6" stroke="#1d4ed8" stroke-width="1"/>
  <text x="280" y="638" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">DS18B20</text>
  <text x="280" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#1d4ed8">~5mA</text>
  
  <rect x="330" y="625" width="80" height="20" rx="3" fill="#6b7280" stroke="#374151" stroke-width="1"/>
  <text x="370" y="638" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#fff">Pull-up Resistors</text>
  <text x="370" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#374151">R1, R2, R3</text>
  
  <!-- Current and Voltage Labels -->
  <text x="950" y="95" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc2626">5V @ 2.5A Max</text>
  <text x="950" y="108" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Customer ERD Charger</text>
  
  <text x="650" y="375" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">12V @ 3A Max</text>
  <text x="650" y="388" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Customer SMPS</text>
  
  <text x="500" y="625" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f59e0b">3.3V @ 600mA Max</text>
  <text x="500" y="638" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">ESP32 AMS1117 Regulator</text>
  
  <!-- Component Notes -->
  <text x="70" y="320" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Component Values: FB1/FB2: 120Ω@100MHz 1A 0603 SMD • NTC1/NTC2: 5D-11 (10Ω Inrush Limiter) • C1/C3/C5: 470µF/25V Electrolytic • D1: 1N5819 Schottky • D2/D3: 1N4744A TVS • F1: 2.5A • F2: 3A</text>
  
  <text x="70" y="565" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Protection Values: R9/R10: 100Ω GPIO Protection • R11/R12: 82Ω I2C Series Protection • R4-R8: 330Ω Relay Protection • R1-R3: 4.7kΩ Pull-up Resistors</text>
  
  <text x="70" y="720" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Installation Notes: Remove VCC-JD-VCC jumper on relay module for opto-isolation • Customer provides external 6A MCB for AC protection • Use customer ERD charger (5V/2A) and SMPS (12V/3A)</text>
</svg>